<!DOCTYPE html>
<html>
<style>
body {
	background-color: #222222;
	color: #DDDDDD;
	font-family: Comfortaa;

	overflow: hidden;
}
td {
	border: 1px solid #2F5BDF;
	background-color: black;

	width: 9vh;
	height: 9vh;
	transition: width 0.2s ease, height 0.2s ease, background-color 2.5s ease;
}

h1 {

	font-size: 4vh;

}

/* Neutral movement speed. */
.piece {

	transition: left 0.6s, bottom 0.6s;

}

/* Slow movement speed. */
.piece.Child,.piece.Student,.piece.Lizard {

	transition: left 1.2s, bottom 1.2s;

}

/* Fast movement speed. */
.piece.Angel,.piece.Skater,.piece.Gentleman {

	transition: left 0.3s, bottom 0.3s;

}

.enabled,.preview {

	background-image: url("./highlight.png");
	background-repeat: no-repeat;
	background-size: cover;

}
.lightbridge,.duplication {

	background-image: url("./highlightspecial.png");
	background-repeat: no-repeat;
	background-size: cover;

}
.Pit {

	opacity:0;

}

#options {

	margin-top: 2vh;
	margin-bottom: 2vh;
	height: 8vh;
	
	user-select: none;

}

#options img {
	
	position: absolute;
	z-index: 200;

}
#MainMenu {

	height: 5vh;

}
#Settings {

	height: 6vh;

}
#Header {

	height: 6.5vh;

}

#container {

	width: 100%;
	height: 100%;
	display: flex;
	justify-content: center;
	align-items: center;

}

#board {

	position: relative;
	margin-right: 3vh;
	
}

#players_info_box {

	border: 3px solid #393939;
	width: 50vh;
	height: 76vh;

	display: flex;
	flex-direction: column;
	justify-content: space-between;

	background-color: #222;

}

#timer_player1, #timer_player2, #horizontal_hud_workaround {

	margin: 2vh auto;
	font-size: 4vh;
	text-align: center;

}

#menu_player2 {

	background-color: #797979;
	color: #DDD;

	order: 1;
	border: 2px solid #DDD;

}

#horizontal_hud_workaround {

	order: 2;

	display: flex;
	flex-direction: row;
	justify-content: space-between;
	align-items: center;
	
	width: 90%;
	height: 100%;

}

#menu_player1 {

	background-color: #DDD;
	color: #797979;

	order: 3;
	border: 2px solid #797979;

}

#chess_gamers {

	border: 3px solid gray;
	width: 100%;
	height: 90%;
	order: 1;
}

#endgameCover {

	background-image: url('./boarddone.png');
	
	z-index: 100;
	position: absolute;
	
	top: 0;
	height: 100%;
	
	opacity: 0;
	transition: opacity 2s;

}

#thisgameswinneris {

	position: absolute;
	
	background-color: #DDDDDD;
	color: #222222;
	
	display: flex;
	justify-content: center;
	align-items: center;

}

/*
#move_history {

	border: 3px solid gray;
	width: 30%;
	height: 90%;
	order: 2;
}
*/

</style>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Chess - (Almost There)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
	<div id="options" align="center"><a href="./Chess.html"><img src="./MainMenu.png" id="MainMenu"></a></img><img src="./Freeplay.png" id="Header"></img><a href=""><img src="./Settings.png" id="Settings"></img></a></div>
	<div id="container">
		<div id="board" align="center">
		<table>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
		</table>
		</div>
		<div id="players_info_box">
			<div id="menu_player2">
				<div id="timer_player2">20:00</div>
			</div>
			
			<div id="horizontal_hud_workaround">
				<div id="chess_gamers"></div><!-- <div id="move_history"></div> -->
			</div>
			
			<div id="menu_player1">
				<div id="timer_player1">20:00</div>
			</div>
		</div>
	</div>
	<div id="endgameCover" style="visibility:hidden;">
		<div id="thisgameswinneris"></div>
	</div>
</body>
<script src="AIPlayer.js"></script>
<script>
var EndGame=document.querySelector("#endgameCover"),WinStripe=document.querySelector("#thisgameswinneris"),playersName=["P_1","P_2"],timeLeft_player1=12e3,timeCache_player1=0,secondsLeft_player1=0,timeLeft_player2=12e3,timeCache_player2=0,secondsLeft_player2=0,timerId=0,currentPlayer=0;function countdown(){if(1==current)if(timeLeft_player1--,(secondsLeft_player1=timeLeft_player1-60*Math.floor(timeLeft_player1/60))/10<1){if(document.querySelector("#timer_player1").innerHTML=Math.floor(timeLeft_player1/60)+":0"+secondsLeft_player1,0==timeLeft_player1)return currentPlayer=0,clearInterval(timerId),EndGame.style.visibility="visible",EndGame.style.opacity=1,void(WinStripe.innerHTML="<h1>Time's up! "+playersName[1]+" wins!</h1>")}else document.querySelector("#timer_player1").innerHTML=Math.floor(timeLeft_player1/60)+":"+secondsLeft_player1;else if(timeLeft_player2--,(secondsLeft_player2=timeLeft_player2-60*Math.floor(timeLeft_player2/60))/10<1){if(document.querySelector("#timer_player2").innerHTML=Math.floor(timeLeft_player2/60)+":0"+secondsLeft_player2,0==timeLeft_player2)return currentPlayer=0,clearInterval(timerId),EndGame.style.visibility="visible",EndGame.style.opacity=1,void(WinStripe.innerHTML="<h1>Time's up! "+playersName[0]+" wins!</h1>")}else document.querySelector("#timer_player2").innerHTML=Math.floor(timeLeft_player2/60)+":"+secondsLeft_player2}var board=document.querySelector("table"),cells=board.querySelectorAll("td"),activepiece=-1,current=1,currentClass="_1",notcurrentClass="_-1",duplicates=[0,0],pastafarianBridgesUsed=0,bridgeChange=0,lightbridge=0,VitalPieces=[0,0],playersType=[2,1];currentPlayer=playersType[0];var playerPlayerplayerPlayer=0,playerSwitcher=1;function endTurn(){if(currentPlayer=playersType[playerPlayerplayerPlayer+=playerSwitcher],playerSwitcher*=-1,pastafarianBridgesUsed>0){(e=board.getElementsByClassName("broken1")).length>0&&(e[0].classList.remove("broken1"),pastafarianBridgesUsed--,bridgeChange++);for(let c=2;c<4;c++){var e=board.getElementsByClassName("broken"+c);if(e.length>0){let s=e[0];s.classList.remove("broken"+c),s.classList.add("broken"+(c-1)),bridgeChange++}bridgeChange==pastafarianBridgesUsed&&(c=4)}bridgeChange=0}if(1==current){if(0==VitalPieces[1])return currentPlayer=0,clearInterval(timerId),EndGame.style.visibility="visible",EndGame.style.opacity=1,void(WinStripe.innerHTML="<h1>Checkmate! "+playersName[0]+" wins!</h1>");timeCache_player1>timeLeft_player1%5?(timeLeft_player1+=5,timeCache_player1-=5):timeCache_player1>0&&(timeLeft_player1+=timeCache_player1,timeCache_player1=0),secondsLeft_player1=timeLeft_player1-60*Math.floor(timeLeft_player1/60),document.querySelector("#timer_player1").innerHTML=secondsLeft_player1/10<1?Math.floor(timeLeft_player1/60)+":0"+secondsLeft_player1:Math.floor(timeLeft_player1/60)+":"+secondsLeft_player1}else{if(0==VitalPieces[0])return currentPlayer=0,clearInterval(timerId),EndGame.style.visibility="visible",EndGame.style.opacity=1,void(WinStripe.innerHTML="<h1>Checkmate! "+playersName[1]+" wins!</h1>");timeCache_player2>timeLeft_player2%5?(timeLeft_player2+=5,timeCache_player2-=5):timeCache_player2>0&&(timeLeft_player2+=timeCache_player2,timeCache_player2=0),secondsLeft_player2=timeLeft_player2-60*Math.floor(timeLeft_player2/60),document.querySelector("#timer_player2").innerHTML=secondsLeft_player2/10<1?Math.floor(timeLeft_player2/60)+":0"+secondsLeft_player2:Math.floor(timeLeft_player2/60)+":"+secondsLeft_player2}if(currentClass="_"+(current*=-1),notcurrentClass="_"+-1*current,1==currentPlayer){CPUpossibleMoves=[],CPUBestMoveWeight=[],CPUMoveHistory=[],CPUBestSummed=-110,CPUCurrentBoard=[],CPUWriteableBoard=[];for(let e=0;e<cells.length;e++){tempVARforBoardWriting1=0,tempVARforBoardWriting2=0;let c=cells[e].classList;for(let e=0;e<c.length;e++)c[e].length>3?tempVARforBoardWriting1=c[e]:tempVARforBoardWriting2=c[e];0==tempVARforBoardWriting1?CPUCurrentBoard.push([tempVARforBoardWriting2]):CPUCurrentBoard.push([tempVARforBoardWriting1,tempVARforBoardWriting2])}for(let e=0;e<80;e++)CPUWriteableBoard.push(CPUCurrentBoard[e]);return CPUOriginalTeam=current,CPUDecision=AI_Player(0),CPUpossibleMoves[CPUDecision][0]>88&&(CPUpossibleMoves[CPUDecision][0]/=90,CPUpossibleMoves[CPUDecision][0]-=1,pastafarianBridgesUsed++,lightbridge=1),activepiece=CPUpossibleMoves[CPUDecision][0],void BustAMove(CPUpossibleMoves[CPUDecision][1])}}function ThePiecePlacer(e,c,s){cells[e].classList.add(c,s);let i=Math.floor(e/10)+2;document.body.insertAdjacentHTML("beforeend","<div id='piece"+e+"' style='position:absolute;pointer-events:none;z-index:"+i+"' class='piece "+s+" "+c+"'><img src='./"+s+c+".png' style='width:10vh;'></img></div>");let l=document.querySelector("#piece"+e),a=cells[e].getBoundingClientRect();l.style.bottom=window.innerHeight-a.top-.09*window.innerHeight+"px",l.style.left=a.left-.001*window.innerHeight+"px"}function BustAMove(e){if(cells[e].classList.contains(notcurrentClass)){if(cells[e].classList.contains("Duplicator")){enemyduplicates=board.getElementsByClassName("Duplicate "+notcurrentClass),enemyduplicatesVisual=document.getElementsByClassName("piece Duplicate "+notcurrentClass);for(let e=0;e<enemyduplicates.length;)enemyduplicates[e].removeAttribute("class"),enemyduplicatesVisual[e].remove()}else cells[e].classList.contains("Duplicate")?1==current?duplicates[1]--:duplicates[0]--:cells[e].classList.contains("Runner")||cells[e].classList.contains("Angel")?1==current?VitalPieces[1]--:VitalPieces[0]--:cells[e].classList.contains("broken2")&&pastafarianBridgesUsed--;cells[e].removeAttribute("class"),document.querySelector("#piece"+e).remove()}if(activepiece>80)return ThePiecePlacer(e,currentClass,"Duplicate"),1==current?duplicates[0]++:duplicates[1]++,activepiece=-1,endTurn(),!0;var c=document.querySelector("#piece"+activepiece);let s=cells[e].getBoundingClientRect();c.style.bottom=window.innerHeight-s.top-.09*window.innerHeight+"px",c.style.left=s.left-.001*window.innerHeight+"px";let i=Math.floor(e/10)+2;return c.style.zIndex=i,c.id="piece"+e,cells[e].classList.add(...Array.from(cells[activepiece].classList)),cells[activepiece].removeAttribute("class"),activepiece=-1,1==lightbridge&&(cells[e].classList.add("broken3"),lightbridge=0),endTurn(),!0}var pieceSelected=0;function cell(){if(!(currentPlayer<2))if(TargetCell=event.target.id,2!=event.target.classList.length){if(event.target.classList.contains("lightbridge")&&(lightbridge=1,pastafarianBridgesUsed++),event.target.classList.contains("enabled")||1==lightbridge){pieceSelected=0,removeenabled=board.getElementsByClassName("enabled"),removeduplication=board.getElementsByClassName("duplication"),removelightbridge=board.getElementsByClassName("lightbridge");for(let e=0;e<removeenabled.length;)removeenabled[e].classList.remove("enabled");for(let e=0;e<removeduplication.length;)removeduplication[e].classList.remove("duplication");for(let e=0;e<removelightbridge.length;)removelightbridge[e].classList.remove("lightbridge");BustAMove(TargetCell)}else if(event.target.classList.contains("duplication")){pieceSelected=0,removeenabled=board.getElementsByClassName("enabled"),removeduplication=board.getElementsByClassName("duplication");for(let e=0;e<removeenabled.length;)removeenabled[e].classList.remove("enabled");for(let e=0;e<removeduplication.length;)removeduplication[e].classList.remove("duplication");return activepiece=88,void BustAMove(TargetCell)}}else{if(1==pieceSelected){removeenabled=board.getElementsByClassName("enabled"),removeduplication=board.getElementsByClassName("duplication"),removelightbridge=board.getElementsByClassName("lightbridge");for(let e=0;e<removeenabled.length;)removeenabled[e].classList.remove("enabled");for(let e=0;e<removeduplication.length;)removeduplication[e].classList.remove("duplication");for(let e=0;e<removelightbridge.length;)removelightbridge[e].classList.remove("lightbridge")}else if(2==pieceSelected){removepreview=board.getElementsByClassName("preview");for(let e=0;e<removepreview.length;)removepreview[e].classList.remove("preview")}if(activepiece==parseInt(TargetCell))return activepiece=-1,void(pieceSelected=0);if(activepiece=parseInt(TargetCell),event.target.classList.contains(currentClass)){if(activepiece>-1){pieceSelected=1;let e=activepiece%10%2,c=activepiece-activepiece%10;switch(event.target.classList[1]){case"Runner":for(let e=1;activepiece+e<10+c&&e<3;e++)cells[activepiece+e].classList.length>0?(cells[activepiece+e].classList.contains(notcurrentClass)&&cells[activepiece+e].classList.add("enabled"),e=10):cells[activepiece+e].classList.add("enabled");for(let e=1;activepiece-e>c-1&&e<3;e++)cells[activepiece-e].classList.length>0?(cells[activepiece-e].classList.contains(notcurrentClass)&&cells[activepiece-e].classList.add("enabled"),e=10):cells[activepiece-e].classList.add("enabled");for(let e=1;activepiece-10*e>-1&&e<3;e++)cells[activepiece-10*e].classList.length>0?(cells[activepiece-10*e].classList.contains(notcurrentClass)&&cells[activepiece-10*e].classList.add("enabled"),e=10):cells[activepiece-10*e].classList.add("enabled");for(let e=1;activepiece+10*e<80&&e<3;e++)cells[activepiece+10*e].classList.length>0?(cells[activepiece+10*e].classList.contains(notcurrentClass)&&cells[activepiece+10*e].classList.add("enabled"),e=10):cells[activepiece+10*e].classList.add("enabled");for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1&&e<3;e++)cells[activepiece-9*e].classList.length>0?(cells[activepiece-9*e].classList.contains(notcurrentClass)&&cells[activepiece-9*e].classList.add("enabled"),e=10):cells[activepiece-9*e].classList.add("enabled");for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1&&e<3;e++)cells[activepiece-11*e].classList.length>0?(cells[activepiece-11*e].classList.contains(notcurrentClass)&&cells[activepiece-11*e].classList.add("enabled"),e=10):cells[activepiece-11*e].classList.add("enabled");for(let e=1;activepiece+e<c+10&&activepiece+11*e<80&&e<3;e++)cells[activepiece+11*e].classList.length>0?(cells[activepiece+11*e].classList.contains(notcurrentClass)&&cells[activepiece+11*e].classList.add("enabled"),e=10):cells[activepiece+11*e].classList.add("enabled");for(let e=1;activepiece-e>c-1&&activepiece+9*e<80&&e<3;e++)cells[activepiece+9*e].classList.length>0?(cells[activepiece+9*e].classList.contains(notcurrentClass)&&cells[activepiece+9*e].classList.add("enabled"),e=10):cells[activepiece+9*e].classList.add("enabled");break;case"Skater":for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.length<1?cells[activepiece+e].classList.add("enabled"):e=10;for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.length<1?cells[activepiece-e].classList.add("enabled"):e=10;for(let e=1;activepiece-10*e>-1;e++)cells[activepiece-10*e].classList.length<1?cells[activepiece-10*e].classList.add("enabled"):e=10;for(let e=1;activepiece+10*e<80;e++)cells[activepiece+10*e].classList.length<1?cells[activepiece+10*e].classList.add("enabled"):e=10;for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1;e++)cells[activepiece-9*e].classList.length<1?cells[activepiece-9*e].classList.add("enabled"):e=10;for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1;e++)cells[activepiece-11*e].classList.length<1?cells[activepiece-11*e].classList.add("enabled"):e=10;for(let e=1;activepiece+e<c+10&&activepiece+11*e<80;e++)cells[activepiece+11*e].classList.length<1?cells[activepiece+11*e].classList.add("enabled"):e=10;for(let e=1;activepiece-e>c-1&&activepiece+9*e<80;e++)cells[activepiece+9*e].classList.length<1?cells[activepiece+9*e].classList.add("enabled"):e=10;activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(notcurrentClass)&&cells[activepiece-11].classList.add("enabled"):cells[activepiece-11].classList.add("enabled")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(notcurrentClass)&&cells[activepiece-9].classList.add("enabled"):cells[activepiece-9].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(notcurrentClass)&&cells[activepiece+11].classList.add("enabled"):cells[activepiece+11].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(notcurrentClass)&&cells[activepiece+9].classList.add("enabled"):cells[activepiece+9].classList.add("enabled"));break;case"Lizard":for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.length>0?(cells[activepiece+e].classList.contains(notcurrentClass)&&cells[activepiece+e].classList.add("enabled"),e=10):cells[activepiece+e].classList.add("enabled");for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.length>0?(cells[activepiece-e].classList.contains(notcurrentClass)&&cells[activepiece-e].classList.add("enabled"),e=10):cells[activepiece-e].classList.add("enabled");activepiece-20>-1&&(cells[activepiece-20].classList.length>0?cells[activepiece-20].classList.contains(notcurrentClass)&&cells[activepiece-20].classList.add("enabled"):cells[activepiece-20].classList.add("enabled")),activepiece+20<80&&(cells[activepiece+20].classList.length>0?cells[activepiece+20].classList.contains(notcurrentClass)&&cells[activepiece+20].classList.add("enabled"):cells[activepiece+20].classList.add("enabled")),activepiece-30>-1&&(cells[activepiece-30].classList.length>0?cells[activepiece-30].classList.contains(notcurrentClass)&&cells[activepiece-30].classList.add("enabled"):cells[activepiece-30].classList.add("enabled")),activepiece+30<80&&(cells[activepiece+30].classList.length>0?cells[activepiece+30].classList.contains(notcurrentClass)&&cells[activepiece+30].classList.add("enabled"):cells[activepiece+30].classList.add("enabled"));break;case"Bunny":for(let e=0;activepiece%20+e<80;e+=20)cells[activepiece%20+e].classList.length>0?cells[activepiece%20+e].classList.contains(notcurrentClass)&&cells[activepiece%20+e].classList.add("enabled"):cells[activepiece%20+e].classList.add("enabled");for(let s=0;e+c+s<10+c;s+=2)cells[e+c+s].classList.length>0?cells[e+c+s].classList.contains(notcurrentClass)&&cells[e+c+s].classList.add("enabled"):cells[e+c+s].classList.add("enabled");activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled"));break;case"Child":activepiece-22>-1&&activepiece>c+1&&(cells[activepiece-22].classList.length>0?cells[activepiece-22].classList.contains(notcurrentClass)&&cells[activepiece-22].classList.add("enabled"):cells[activepiece-22].classList.add("enabled")),activepiece-20>-1&&(cells[activepiece-20].classList.length>0?cells[activepiece-20].classList.contains(notcurrentClass)&&cells[activepiece-20].classList.add("enabled"):cells[activepiece-20].classList.add("enabled")),activepiece-18>-1&&activepiece<c+8&&(cells[activepiece-18].classList.length>0?cells[activepiece-18].classList.contains(notcurrentClass)&&cells[activepiece-18].classList.add("enabled"):cells[activepiece-18].classList.add("enabled")),activepiece-2>-1&&activepiece>c+1&&(cells[activepiece-2].classList.length>0?cells[activepiece-2].classList.contains(notcurrentClass)&&cells[activepiece-2].classList.add("enabled"):cells[activepiece-2].classList.add("enabled")),activepiece+2>-1&&activepiece<c+8&&(cells[activepiece+2].classList.length>0?cells[activepiece+2].classList.contains(notcurrentClass)&&cells[activepiece+2].classList.add("enabled"):cells[activepiece+2].classList.add("enabled")),activepiece+18<80&&activepiece>c+1&&(cells[activepiece+18].classList.length>0?cells[activepiece+18].classList.contains(notcurrentClass)&&cells[activepiece+18].classList.add("enabled"):cells[activepiece+18].classList.add("enabled")),activepiece+20<80&&(cells[activepiece+20].classList.length>0?cells[activepiece+20].classList.contains(notcurrentClass)&&cells[activepiece+20].classList.add("enabled"):cells[activepiece+20].classList.add("enabled")),activepiece+22<80&&activepiece<c+8&&(cells[activepiece+22].classList.length>0?cells[activepiece+22].classList.contains(notcurrentClass)&&cells[activepiece+22].classList.add("enabled"):cells[activepiece+22].classList.add("enabled"));break;case"Gentleman":activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled"));for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.contains(notcurrentClass)&&(cells[activepiece+e].classList.add("enabled"),e=10);for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.contains(notcurrentClass)&&(cells[activepiece-e].classList.add("enabled"),e=10);for(let e=1;activepiece-10*e>-1;e++)cells[activepiece-10*e].classList.contains(notcurrentClass)&&(cells[activepiece-10*e].classList.add("enabled"),e=10);for(let e=1;activepiece+10*e<80;e++)cells[activepiece+10*e].classList.contains(notcurrentClass)&&(cells[activepiece+10*e].classList.add("enabled"),e=10);for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1;e++)cells[activepiece-9*e].classList.contains(notcurrentClass)&&(cells[activepiece-9*e].classList.add("enabled"),e=10);for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1;e++)cells[activepiece-11*e].classList.contains(notcurrentClass)&&(cells[activepiece-11*e].classList.add("enabled"),e=10);for(let e=1;activepiece+e<c+10&&activepiece+11*e<80;e++)cells[activepiece+11*e].classList.contains(notcurrentClass)&&(cells[activepiece+11*e].classList.add("enabled"),e=10);for(let e=1;activepiece-e>c-1&&activepiece+9*e<80;e++)cells[activepiece+9*e].classList.contains(notcurrentClass)&&(cells[activepiece+9*e].classList.add("enabled"),e=10);break;case"Duplicator":activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled")),(1==current&&duplicates[0]<5||-1==current&&duplicates[1]<5)&&(activepiece-11>-1&&activepiece>c&&0==cells[activepiece-11].classList.length&&cells[activepiece-11].classList.add("duplication"),activepiece-9>-1&&activepiece<c+9&&0==cells[activepiece-9].classList.length&&cells[activepiece-9].classList.add("duplication"),activepiece+11<80&&activepiece<c+9&&0==cells[activepiece+11].classList.length&&cells[activepiece+11].classList.add("duplication"),activepiece+9<80&&activepiece>c&&0==cells[activepiece+9].classList.length&&cells[activepiece+9].classList.add("duplication"));break;case"Duplicate":1==current?(activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(notcurrentClass)&&cells[activepiece-11].classList.add("enabled"):cells[activepiece-11].classList.add("enabled")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(notcurrentClass)&&cells[activepiece-9].classList.add("enabled"):cells[activepiece-9].classList.add("enabled"))):(activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(notcurrentClass)&&cells[activepiece+11].classList.add("enabled"):cells[activepiece+11].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(notcurrentClass)&&cells[activepiece+9].classList.add("enabled"):cells[activepiece+9].classList.add("enabled"))),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled"));break;case"Pastafarian":if(activepiece+1<10+c&&cells[activepiece+1].classList.length<2)for(let e=2;activepiece+e<10+c&&e<5;e++)cells[activepiece+e].classList.length>0?cells[activepiece+e].classList.contains("Pit")||(cells[activepiece+e].classList.contains(notcurrentClass)&&cells[activepiece+e].classList.add("lightbridge"),e=6):cells[activepiece+e].classList.add("lightbridge");if(activepiece-1>c-1&&cells[activepiece-1].classList.length<2)for(let e=2;activepiece-e>c-1&&e<5;e++)cells[activepiece-e].classList.length>0?cells[activepiece-e].classList.contains("Pit")||(cells[activepiece-e].classList.contains(notcurrentClass)&&cells[activepiece-e].classList.add("lightbridge"),e=6):cells[activepiece-e].classList.add("lightbridge");if(activepiece-10>-1&&cells[activepiece-10].classList.length<2)for(let e=2;activepiece-10*e>-1&&e<5;e++)cells[activepiece-10*e].classList.length>0?cells[activepiece-10*e].classList.contains("Pit")||(cells[activepiece-10*e].classList.contains(notcurrentClass)&&cells[activepiece-10*e].classList.add("lightbridge"),e=6):cells[activepiece-10*e].classList.add("lightbridge");if(activepiece+10<80&&cells[activepiece+10].classList.length<2)for(let e=2;activepiece+10*e<80&&e<5;e++)cells[activepiece+10*e].classList.length>0?cells[activepiece+10*e].classList.contains("Pit")||(cells[activepiece+10*e].classList.contains(notcurrentClass)&&cells[activepiece+10*e].classList.add("lightbridge"),e=6):cells[activepiece+10*e].classList.add("lightbridge");if(activepiece+1<c+10&&activepiece-9>-1&&cells[activepiece-9].classList.length<2)for(let e=2;activepiece+e<c+10&&activepiece-9*e>-1&&e<5;e++)cells[activepiece-9*e].classList.length>0?cells[activepiece-9*e].classList.contains("Pit")||(cells[activepiece-9*e].classList.contains(notcurrentClass)&&cells[activepiece-9*e].classList.add("lightbridge"),e=6):cells[activepiece-9*e].classList.add("lightbridge");if(activepiece-1>c-1&&activepiece-11>-1&&cells[activepiece-11].classList.length<2)for(let e=2;activepiece-e>c-1&&activepiece-11*e>-1&&e<5;e++)cells[activepiece-11*e].classList.length>0?cells[activepiece-11*e].classList.contains("Pit")||(cells[activepiece-11*e].classList.contains(notcurrentClass)&&cells[activepiece-11*e].classList.add("lightbridge"),e=6):cells[activepiece-11*e].classList.add("lightbridge");if(activepiece+1<c+10&&activepiece+11<80&&cells[activepiece+11].classList.length<2)for(let e=2;activepiece+e<c+10&&activepiece+11*e<80&&e<5;e++)cells[activepiece+11*e].classList.length>0?cells[activepiece+11*e].classList.contains("Pit")||(cells[activepiece+11*e].classList.contains(notcurrentClass)&&cells[activepiece+11*e].classList.add("lightbridge"),e=6):cells[activepiece+11*e].classList.add("lightbridge");if(activepiece-1>c-1&&activepiece+9<80&&cells[activepiece+9].classList.length<2)for(let e=2;activepiece-e>c-1&&activepiece+9*e<80&&e<5;e++)cells[activepiece+9*e].classList.length>0?cells[activepiece+9*e].classList.contains("Pit")||(cells[activepiece+9*e].classList.contains(notcurrentClass)&&cells[activepiece+9*e].classList.add("lightbridge"),e=6):cells[activepiece+9*e].classList.add("lightbridge");activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(notcurrentClass)&&cells[activepiece-11].classList.add("enabled"):cells[activepiece-11].classList.add("enabled")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(notcurrentClass)&&cells[activepiece-9].classList.add("enabled"):cells[activepiece-9].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(notcurrentClass)&&cells[activepiece+11].classList.add("enabled"):cells[activepiece+11].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(notcurrentClass)&&cells[activepiece+9].classList.add("enabled"):cells[activepiece+9].classList.add("enabled"));break;case"Student":activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled"));for(let e=1;e<5;e++)activepiece+10*e<80?cells[activepiece+10*e].classList.length>0?cells[activepiece+10*e].classList.contains(notcurrentClass)&&cells[activepiece+10*e].classList.add("enabled"):cells[activepiece+10*e].classList.add("enabled"):e=5;for(let e=1;e<5;e++)activepiece-10*e>-1?cells[activepiece-10*e].classList.length>0?cells[activepiece-10*e].classList.contains(notcurrentClass)&&cells[activepiece-10*e].classList.add("enabled"):cells[activepiece-10*e].classList.add("enabled"):e=5;break;case"Angel":activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(notcurrentClass)&&cells[activepiece-11].classList.add("enabled"):cells[activepiece-11].classList.add("enabled")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(notcurrentClass)&&cells[activepiece-10].classList.add("enabled"):cells[activepiece-10].classList.add("enabled")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(notcurrentClass)&&cells[activepiece-9].classList.add("enabled"):cells[activepiece-9].classList.add("enabled")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(notcurrentClass)&&cells[activepiece-1].classList.add("enabled"):cells[activepiece-1].classList.add("enabled")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(notcurrentClass)&&cells[activepiece+1].classList.add("enabled"):cells[activepiece+1].classList.add("enabled")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(notcurrentClass)&&cells[activepiece+11].classList.add("enabled"):cells[activepiece+11].classList.add("enabled")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(notcurrentClass)&&cells[activepiece+10].classList.add("enabled"):cells[activepiece+10].classList.add("enabled")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(notcurrentClass)&&cells[activepiece+9].classList.add("enabled"):cells[activepiece+9].classList.add("enabled")),activepiece-30>-1&&(cells[activepiece-30].classList.length>0?cells[activepiece-30].classList.contains(notcurrentClass)&&cells[activepiece-30].classList.add("enabled"):cells[activepiece-30].classList.add("enabled")),activepiece-3>-1&&activepiece>c+2&&(cells[activepiece-3].classList.length>0?cells[activepiece-3].classList.contains(notcurrentClass)&&cells[activepiece-3].classList.add("enabled"):cells[activepiece-3].classList.add("enabled")),activepiece+3>-1&&activepiece<c+7&&(cells[activepiece+3].classList.length>0?cells[activepiece+3].classList.contains(notcurrentClass)&&cells[activepiece+3].classList.add("enabled"):cells[activepiece+3].classList.add("enabled")),activepiece+30<80&&(cells[activepiece+30].classList.length>0?cells[activepiece+30].classList.contains(notcurrentClass)&&cells[activepiece+30].classList.add("enabled"):cells[activepiece+30].classList.add("enabled"))}}return}if(event.target.classList.contains(notcurrentClass)&&activepiece>-1){pieceSelected=2;let e=activepiece%10%2,c=activepiece-activepiece%10;switch(event.target.classList[1]){case"Runner":for(let e=1;activepiece+e<10+c&&e<3;e++)cells[activepiece+e].classList.length>0?(cells[activepiece+e].classList.contains(currentClass)&&cells[activepiece+e].classList.add("preview"),e=10):cells[activepiece+e].classList.add("preview");for(let e=1;activepiece-e>c-1&&e<3;e++)cells[activepiece-e].classList.length>0?(cells[activepiece-e].classList.contains(currentClass)&&cells[activepiece-e].classList.add("preview"),e=10):cells[activepiece-e].classList.add("preview");for(let e=1;activepiece-10*e>-1&&e<3;e++)cells[activepiece-10*e].classList.length>0?(cells[activepiece-10*e].classList.contains(currentClass)&&cells[activepiece-10*e].classList.add("preview"),e=10):cells[activepiece-10*e].classList.add("preview");for(let e=1;activepiece+10*e<80&&e<3;e++)cells[activepiece+10*e].classList.length>0?(cells[activepiece+10*e].classList.contains(currentClass)&&cells[activepiece+10*e].classList.add("preview"),e=10):cells[activepiece+10*e].classList.add("preview");for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1&&e<3;e++)cells[activepiece-9*e].classList.length>0?(cells[activepiece-9*e].classList.contains(currentClass)&&cells[activepiece-9*e].classList.add("preview"),e=10):cells[activepiece-9*e].classList.add("preview");for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1&&e<3;e++)cells[activepiece-11*e].classList.length>0?(cells[activepiece-11*e].classList.contains(currentClass)&&cells[activepiece-11*e].classList.add("preview"),e=10):cells[activepiece-11*e].classList.add("preview");for(let e=1;activepiece+e<c+10&&activepiece+11*e<80&&e<3;e++)cells[activepiece+11*e].classList.length>0?(cells[activepiece+11*e].classList.contains(currentClass)&&cells[activepiece+11*e].classList.add("preview"),e=10):cells[activepiece+11*e].classList.add("preview");for(let e=1;activepiece-e>c-1&&activepiece+9*e<80&&e<3;e++)cells[activepiece+9*e].classList.length>0?(cells[activepiece+9*e].classList.contains(currentClass)&&cells[activepiece+9*e].classList.add("preview"),e=10):cells[activepiece+9*e].classList.add("preview");break;case"Skater":for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.length<1?cells[activepiece+e].classList.add("preview"):e=10;for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.length<1?cells[activepiece-e].classList.add("preview"):e=10;for(let e=1;activepiece-10*e>-1;e++)cells[activepiece-10*e].classList.length<1?cells[activepiece-10*e].classList.add("preview"):e=10;for(let e=1;activepiece+10*e<80;e++)cells[activepiece+10*e].classList.length<1?cells[activepiece+10*e].classList.add("preview"):e=10;for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1;e++)cells[activepiece-9*e].classList.length<1?cells[activepiece-9*e].classList.add("preview"):e=10;for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1;e++)cells[activepiece-11*e].classList.length<1?cells[activepiece-11*e].classList.add("preview"):e=10;for(let e=1;activepiece+e<c+10&&activepiece+11*e<80;e++)cells[activepiece+11*e].classList.length<1?cells[activepiece+11*e].classList.add("preview"):e=10;for(let e=1;activepiece-e>c-1&&activepiece+9*e<80;e++)cells[activepiece+9*e].classList.length<1?cells[activepiece+9*e].classList.add("preview"):e=10;activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(currentClass)&&cells[activepiece-11].classList.add("preview"):cells[activepiece-11].classList.add("preview")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(currentClass)&&cells[activepiece-9].classList.add("preview"):cells[activepiece-9].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(currentClass)&&cells[activepiece+11].classList.add("preview"):cells[activepiece+11].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(currentClass)&&cells[activepiece+9].classList.add("preview"):cells[activepiece+9].classList.add("preview"));break;case"Lizard":for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.length>0?(cells[activepiece+e].classList.contains(currentClass)&&cells[activepiece+e].classList.add("preview"),e=10):cells[activepiece+e].classList.add("preview");for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.length>0?(cells[activepiece-e].classList.contains(currentClass)&&cells[activepiece-e].classList.add("preview"),e=10):cells[activepiece-e].classList.add("preview");activepiece-20>-1&&(cells[activepiece-20].classList.length>0?cells[activepiece-20].classList.contains(currentClass)&&cells[activepiece-20].classList.add("preview"):cells[activepiece-20].classList.add("preview")),activepiece+20<80&&(cells[activepiece+20].classList.length>0?cells[activepiece+20].classList.contains(currentClass)&&cells[activepiece+20].classList.add("preview"):cells[activepiece+20].classList.add("preview")),activepiece-30>-1&&(cells[activepiece-30].classList.length>0?cells[activepiece-30].classList.contains(currentClass)&&cells[activepiece-30].classList.add("preview"):cells[activepiece-30].classList.add("preview")),activepiece+30<80&&(cells[activepiece+30].classList.length>0?cells[activepiece+30].classList.contains(currentClass)&&cells[activepiece+30].classList.add("preview"):cells[activepiece+30].classList.add("preview"));break;case"Bunny":for(let e=0;activepiece%20+e<80;e+=20)cells[activepiece%20+e].classList.length>0?cells[activepiece%20+e].classList.contains(currentClass)&&cells[activepiece%20+e].classList.add("preview"):cells[activepiece%20+e].classList.add("preview");for(let s=0;e+c+s<10+c;s+=2)cells[e+c+s].classList.length>0?cells[e+c+s].classList.contains(currentClass)&&cells[e+c+s].classList.add("preview"):cells[e+c+s].classList.add("preview");activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview"));break;case"Child":activepiece-22>-1&&activepiece>c+1&&(cells[activepiece-22].classList.length>0?cells[activepiece-22].classList.contains(currentClass)&&cells[activepiece-22].classList.add("preview"):cells[activepiece-22].classList.add("preview")),activepiece-20>-1&&(cells[activepiece-20].classList.length>0?cells[activepiece-20].classList.contains(currentClass)&&cells[activepiece-20].classList.add("preview"):cells[activepiece-20].classList.add("preview")),activepiece-18>-1&&activepiece<c+8&&(cells[activepiece-18].classList.length>0?cells[activepiece-18].classList.contains(currentClass)&&cells[activepiece-18].classList.add("preview"):cells[activepiece-18].classList.add("preview")),activepiece-2>-1&&activepiece>c+1&&(cells[activepiece-2].classList.length>0?cells[activepiece-2].classList.contains(currentClass)&&cells[activepiece-2].classList.add("preview"):cells[activepiece-2].classList.add("preview")),activepiece+2>-1&&activepiece<c+8&&(cells[activepiece+2].classList.length>0?cells[activepiece+2].classList.contains(currentClass)&&cells[activepiece+2].classList.add("preview"):cells[activepiece+2].classList.add("preview")),activepiece+18<80&&activepiece>c+1&&(cells[activepiece+18].classList.length>0?cells[activepiece+18].classList.contains(currentClass)&&cells[activepiece+18].classList.add("preview"):cells[activepiece+18].classList.add("preview")),activepiece+20<80&&(cells[activepiece+20].classList.length>0?cells[activepiece+20].classList.contains(currentClass)&&cells[activepiece+20].classList.add("preview"):cells[activepiece+20].classList.add("preview")),activepiece+22<80&&activepiece<c+8&&(cells[activepiece+22].classList.length>0?cells[activepiece+22].classList.contains(currentClass)&&cells[activepiece+22].classList.add("preview"):cells[activepiece+22].classList.add("preview"));break;case"Gentleman":activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview"));for(let e=1;activepiece+e<10+c;e++)cells[activepiece+e].classList.contains(currentClass)&&(cells[activepiece+e].classList.add("preview"),e=10);for(let e=1;activepiece-e>c-1;e++)cells[activepiece-e].classList.contains(currentClass)&&(cells[activepiece-e].classList.add("preview"),e=10);for(let e=1;activepiece-10*e>-1;e++)cells[activepiece-10*e].classList.contains(currentClass)&&(cells[activepiece-10*e].classList.add("preview"),e=10);for(let e=1;activepiece+10*e<80;e++)cells[activepiece+10*e].classList.contains(currentClass)&&(cells[activepiece+10*e].classList.add("preview"),e=10);for(let e=1;activepiece+e<c+10&&activepiece-9*e>-1;e++)cells[activepiece-9*e].classList.contains(currentClass)&&(cells[activepiece-9*e].classList.add("preview"),e=10);for(let e=1;activepiece-e>c-1&&activepiece-11*e>-1;e++)cells[activepiece-11*e].classList.contains(currentClass)&&(cells[activepiece-11*e].classList.add("preview"),e=10);for(let e=1;activepiece+e<c+10&&activepiece+11*e<80;e++)cells[activepiece+11*e].classList.contains(currentClass)&&(cells[activepiece+11*e].classList.add("preview"),e=10);for(let e=1;activepiece-e>c-1&&activepiece+9*e<80;e++)cells[activepiece+9*e].classList.contains(currentClass)&&(cells[activepiece+9*e].classList.add("preview"),e=10);break;case"Duplicator":activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview"));break;case"Duplicate":-1==current?(activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(currentClass)&&cells[activepiece-11].classList.add("preview"):cells[activepiece-11].classList.add("preview")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(currentClass)&&cells[activepiece-9].classList.add("preview"):cells[activepiece-9].classList.add("preview"))):(activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(currentClass)&&cells[activepiece+11].classList.add("preview"):cells[activepiece+11].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(currentClass)&&cells[activepiece+9].classList.add("preview"):cells[activepiece+9].classList.add("preview"))),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview"));break;case"Pastafarian":if(activepiece+1<10+c&&cells[activepiece+1].classList.length<2)for(let e=2;activepiece+e<10+c&&e<5;e++)cells[activepiece+e].classList.length>0?cells[activepiece+e].classList.contains("Pit")||(cells[activepiece+e].classList.contains(currentClass)&&cells[activepiece+e].classList.add("preview"),e=6):cells[activepiece+e].classList.add("preview");if(activepiece-1>c-1&&cells[activepiece-1].classList.length<2)for(let e=2;activepiece-e>c-1&&e<5;e++)cells[activepiece-e].classList.length>0?cells[activepiece-e].classList.contains("Pit")||(cells[activepiece-e].classList.contains(currentClass)&&cells[activepiece-e].classList.add("preview"),e=6):cells[activepiece-e].classList.add("preview");if(activepiece-10>-1&&cells[activepiece-10].classList.length<2)for(let e=2;activepiece-10*e>-1&&e<5;e++)cells[activepiece-10*e].classList.length>0?cells[activepiece-10*e].classList.contains("Pit")||(cells[activepiece-10*e].classList.contains(currentClass)&&cells[activepiece-10*e].classList.add("preview"),e=6):cells[activepiece-10*e].classList.add("preview");if(activepiece+10<80&&cells[activepiece+10].classList.length<2)for(let e=2;activepiece+10*e<80&&e<5;e++)cells[activepiece+10*e].classList.length>0?cells[activepiece+10*e].classList.contains("Pit")||(cells[activepiece+10*e].classList.contains(currentClass)&&cells[activepiece+10*e].classList.add("preview"),e=6):cells[activepiece+10*e].classList.add("preview");if(activepiece+1<c+10&&activepiece-9>-1&&cells[activepiece-9].classList.length<2)for(let e=2;activepiece+e<c+10&&activepiece-9*e>-1&&e<5;e++)cells[activepiece-9*e].classList.length>0?cells[activepiece-9*e].classList.contains("Pit")||(cells[activepiece-9*e].classList.contains(currentClass)&&cells[activepiece-9*e].classList.add("preview"),e=6):cells[activepiece-9*e].classList.add("preview");if(activepiece-1>c-1&&activepiece-11>-1&&cells[activepiece-11].classList.length<2)for(let e=2;activepiece-e>c-1&&activepiece-11*e>-1&&e<5;e++)cells[activepiece-11*e].classList.length>0?cells[activepiece-11*e].classList.contains("Pit")||(cells[activepiece-11*e].classList.contains(currentClass)&&cells[activepiece-11*e].classList.add("preview"),e=6):cells[activepiece-11*e].classList.add("preview");if(activepiece+1<c+10&&activepiece+11<80&&cells[activepiece+11].classList.length<2)for(let e=2;activepiece+e<c+10&&activepiece+11*e<80&&e<5;e++)cells[activepiece+11*e].classList.length>0?cells[activepiece+11*e].classList.contains("Pit")||(cells[activepiece+11*e].classList.contains(currentClass)&&cells[activepiece+11*e].classList.add("preview"),e=6):cells[activepiece+11*e].classList.add("preview");if(activepiece-1>c-1&&activepiece+9<80&&cells[activepiece+9].classList.length<2)for(let e=2;activepiece-e>c-1&&activepiece+9*e<80&&e<5;e++)cells[activepiece+9*e].classList.length>0?cells[activepiece+9*e].classList.contains("Pit")||(cells[activepiece+9*e].classList.contains(currentClass)&&cells[activepiece+9*e].classList.add("preview"),e=6):cells[activepiece+9*e].classList.add("preview");activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(currentClass)&&cells[activepiece-11].classList.add("preview"):cells[activepiece-11].classList.add("preview")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(currentClass)&&cells[activepiece-9].classList.add("preview"):cells[activepiece-9].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(currentClass)&&cells[activepiece+11].classList.add("preview"):cells[activepiece+11].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(currentClass)&&cells[activepiece+9].classList.add("preview"):cells[activepiece+9].classList.add("preview"));break;case"Student":activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview"));for(let e=1;e<5;e++)activepiece+10*e<80?cells[activepiece+10*e].classList.length>0?cells[activepiece+10*e].classList.contains(currentClass)&&cells[activepiece+10*e].classList.add("preview"):cells[activepiece+10*e].classList.add("preview"):e=5;for(let e=1;e<5;e++)activepiece-10*e>-1?cells[activepiece-10*e].classList.length>0?cells[activepiece-10*e].classList.contains(currentClass)&&cells[activepiece-10*e].classList.add("preview"):cells[activepiece-10*e].classList.add("preview"):e=5;break;case"Angel":activepiece-11>-1&&activepiece>c&&(cells[activepiece-11].classList.length>0?cells[activepiece-11].classList.contains(currentClass)&&cells[activepiece-11].classList.add("preview"):cells[activepiece-11].classList.add("preview")),activepiece-10>-1&&(cells[activepiece-10].classList.length>0?cells[activepiece-10].classList.contains(currentClass)&&cells[activepiece-10].classList.add("preview"):cells[activepiece-10].classList.add("preview")),activepiece-9>-1&&activepiece<c+9&&(cells[activepiece-9].classList.length>0?cells[activepiece-9].classList.contains(currentClass)&&cells[activepiece-9].classList.add("preview"):cells[activepiece-9].classList.add("preview")),activepiece-1>-1&&activepiece>c&&(cells[activepiece-1].classList.length>0?cells[activepiece-1].classList.contains(currentClass)&&cells[activepiece-1].classList.add("preview"):cells[activepiece-1].classList.add("preview")),activepiece+1<80&&activepiece<c+9&&(cells[activepiece+1].classList.length>0?cells[activepiece+1].classList.contains(currentClass)&&cells[activepiece+1].classList.add("preview"):cells[activepiece+1].classList.add("preview")),activepiece+11<80&&activepiece<c+9&&(cells[activepiece+11].classList.length>0?cells[activepiece+11].classList.contains(currentClass)&&cells[activepiece+11].classList.add("preview"):cells[activepiece+11].classList.add("preview")),activepiece+10<80&&(cells[activepiece+10].classList.length>0?cells[activepiece+10].classList.contains(currentClass)&&cells[activepiece+10].classList.add("preview"):cells[activepiece+10].classList.add("preview")),activepiece+9<80&&activepiece>c&&(cells[activepiece+9].classList.length>0?cells[activepiece+9].classList.contains(currentClass)&&cells[activepiece+9].classList.add("preview"):cells[activepiece+9].classList.add("preview")),activepiece-30>-1&&(cells[activepiece-30].classList.length>0?cells[activepiece-30].classList.contains(currentClass)&&cells[activepiece-30].classList.add("preview"):cells[activepiece-30].classList.add("preview")),activepiece-3>-1&&activepiece>c+2&&(cells[activepiece-3].classList.length>0?cells[activepiece-3].classList.contains(currentClass)&&cells[activepiece-3].classList.add("preview"):cells[activepiece-3].classList.add("preview")),activepiece+3>-1&&activepiece<c+7&&(cells[activepiece+3].classList.length>0?cells[activepiece+3].classList.contains(currentClass)&&cells[activepiece+3].classList.add("preview"):cells[activepiece+3].classList.add("preview")),activepiece+30<80&&(cells[activepiece+30].classList.length>0?cells[activepiece+30].classList.contains(currentClass)&&cells[activepiece+30].classList.add("preview"):cells[activepiece+30].classList.add("preview"))}}}}var lightcolor="#F4F4F4",darkcolor="#4F7BFF";function colorBoard(){let e=-1;for(var c=0;c<10;c++){if(e=-e,1==e)var s=lightcolor;else s=darkcolor;for(let e=c;e<80;e+=11)cells[e].style.backgroundColor=s,e%10==9&&(e-=10)}}function initializeBoard(){for(var e=0;e<cells.length;e++)cells[e].setAttribute("onclick","cell();"),cells[e].id=e;timerId=setInterval(countdown,1e3);let c=cells[30].getBoundingClientRect(),s=cells[49].getBoundingClientRect(),i=c.left-.0045*window.innerWidth,l=s.right-.004*window.innerWidth;WinStripe.style.left=i+"px",WinStripe.style.top=c.top+"px",WinStripe.style.width=l-i+"px",WinStripe.style.height=s.bottom-c.top+"px",EndGame.style.width=l/window.innerWidth*100+"%"}colorBoard();var MainMenu=document.querySelector("#MainMenu"),Settings=document.querySelector("#Settings"),Header=document.querySelector("#Header");function manualResize(){let e=document.getElementsByClassName("piece");for(let c=0;c<e.length;c++){numbertile=e[c].id,numbertile=numbertile.substr(5);let s=cells[parseInt(numbertile)].getBoundingClientRect();e[c].style.bottom=window.innerHeight-s.top-.09*window.innerHeight+"px",e[c].style.left=s.left-.001*window.innerHeight+"px"}let c=cells[30].getBoundingClientRect(),s=cells[49].getBoundingClientRect(),i=c.left-.0045*document.body.clientWidth,l=s.right-.004*document.body.clientWidth;WinStripe.style.left=i+"px",WinStripe.style.top=c.top+"px",WinStripe.style.width=l-i+"px",WinStripe.style.height=s.bottom-c.top+"px",EndGame.style.width=l/document.body.clientWidth*100+"%"}MainMenu.style.left=.01*window.innerWidth+"px",Header.style.left=.5*window.innerWidth-.17254*window.innerHeight+"px",Settings.style.right=.01*window.innerWidth+"px";var globalResizeTimer=null;function boardImportation(){var e=0,c=0,s=prompt("Input board to import:","22,24,23,20,18,21,19,17,15,16,25x5,0x50,12x5,3,2,4,6,8,5,7,10,11,9,");if(null!=s&&s.length>0){for(let e=0;e<80;e++){if(cells[e].classList.length>1)document.querySelector("#piece"+e).remove();cells[e].removeAttribute("class")}for(let a=1;a<s.length;a++)if(","==s[a]){if(e<9&&(e=parseInt(s[a-1])),e<14)switch(e){case 0:break;case 1:cells[c].classList.add("Pit");break;case 12:ThePiecePlacer(c,"_1","Duplicate"),duplicates[0]++;break;case 3:ThePiecePlacer(c,"_1","Skater");break;case 4:ThePiecePlacer(c,"_1","Lizard");break;case 5:ThePiecePlacer(c,"_1","Bunny");break;case 6:ThePiecePlacer(c,"_1","Gentleman");break;case 7:ThePiecePlacer(c,"_1","Duplicator");break;case 8:ThePiecePlacer(c,"_1","Child");break;case 9:ThePiecePlacer(c,"_1","Pastafarian");break;case 10:ThePiecePlacer(c,"_1","Student");break;case 2:ThePiecePlacer(c,"_1","Runner"),VitalPieces[0]++;break;case 11:ThePiecePlacer(c,"_1","Angel"),VitalPieces[0]++}else switch(e){case 25:ThePiecePlacer(c,"_-1","Duplicate"),duplicates[1]++;break;case 16:ThePiecePlacer(c,"_-1","Skater");break;case 17:ThePiecePlacer(c,"_-1","Lizard");break;case 18:ThePiecePlacer(c,"_-1","Bunny");break;case 19:ThePiecePlacer(c,"_-1","Gentleman");break;case 20:ThePiecePlacer(c,"_-1","Duplicator");break;case 21:ThePiecePlacer(c,"_-1","Child");break;case 22:ThePiecePlacer(c,"_-1","Pastafarian");break;case 23:ThePiecePlacer(c,"_-1","Student");break;case 15:ThePiecePlacer(c,"_-1","Runner"),VitalPieces[1]++;break;case 24:ThePiecePlacer(c,"_-1","Angel"),VitalPieces[1]++}e=0,c++,a++}else{var i=parseInt(s[a]);if(isNaN(i)){if("x"==s[a]){if(e<9&&(e=parseInt(s[a-1])),i=parseInt(s[a+2]),isNaN(i))l=parseInt(s[a+1]);else{var l=10*parseInt(s[a+1])+i;a++}if(e<14)switch(e){case 0:c+=l;break;case 1:for(let e=0;e<l;e++)cells[c].classList.add("Pit"),c++;break;case 12:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Duplicate"),c++,duplicates[0]++;break;case 3:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Skater"),c++;break;case 4:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Lizard"),c++;break;case 5:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Bunny"),c++;break;case 6:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Gentleman"),c++;break;case 7:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Duplicator"),c++;break;case 8:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Child"),c++;break;case 9:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Pastafarian"),c++;break;case 10:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Student"),c++;break;case 2:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Runner"),c++,VitalPieces[0]++;break;case 11:for(let e=0;e<l;e++)ThePiecePlacer(c,"_1","Angel"),c++,VitalPieces[0]++}else switch(e){case 25:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Duplicate"),c++,duplicates[1]++;break;case 16:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Skater"),c++;break;case 17:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Lizard"),c++;break;case 18:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Bunny"),c++;break;case 19:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Gentleman"),c++;break;case 20:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Duplicator"),c++;break;case 21:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Child"),c++;break;case 22:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Pastafarian"),c++;break;case 23:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Student"),c++;break;case 15:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Runner"),c++,VitalPieces[1]++;break;case 24:for(let e=0;e<l;e++)ThePiecePlacer(c,"_-1","Angel"),c++,VitalPieces[1]++}e=0,a+=3}}else e=10*parseInt(s[a-1])+i}}}window.addEventListener("resize",(function(){var e=window.innerWidth;window.innerHeight;null!=globalResizeTimer&&window.clearTimeout(globalResizeTimer),globalResizeTimer=window.setTimeout((function(){manualResize()}),400),MainMenu.style.left=.01*e+"px",Header.style.left=.5*window.innerWidth-.17254*window.innerHeight+"px",Settings.style.right=.01*e+"px"})),boardImportation(),initializeBoard(),currentPlayer=playersType[playerPlayerplayerPlayer+=playerSwitcher],playerSwitcher*=-1,currentClass="_"+(current*=-1),notcurrentClass="_"+-1*current,endTurn();
</script>

</html>
